(function(f,g,c){var h=new (function(l,j,m){var k=this;this.log=function(){if(!l.console||!l.console.log){return}var n,o="";for(n=0;n<arguments.length;n++){o+=arguments[n]+" "}l.console.log(o)};this.warn=function(){if(!l.console){return}var n,o="";for(n=0;n<arguments.length;n++){o+=arguments[n]+" "}if(l.console.warn){l.console.warn(o)}else{if(l.console.log){l.console.log(o)}}};this.sendGetRequest=function(o,p){if(typeof p!=="function"){p=function(){}}var n=new Image();n.onload=function(){p(null)};n.onerror=function(q){p(q,n)};n.src=o};this.joinURIComponents=function(q,n){if(typeof q!=="object"||typeof n!=="string"){throw new TypeError("invalid parameter type")}var o="";for(var p in q){if(q.hasOwnProperty(p)){if(o.length!==0){o+=n}o+=p+"="+encodeURIComponent(q[p])}}return o};this.getQueryParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var p=new RegExp("[\\?&]"+n+"=([^&#]*)"),o=p.exec(location.search);return o===null?m:decodeURIComponent(o[1].replace(/\+/g," "))}})(f,g);function b(k){var n="//dsp.adkernel.com",m="//static-rtb.adkernel.com/uid",l,j,o;this.getConversionParamName=function(){return o};this.getConversionUrl=function(){return l};this.getTrackingUrl=function(){return j};this.getStorageUrl=function(){return m+"/getid.html"};this.get3rdPartyGateUrl=function(){return m+"/redir.html"};if(k===c){throw new Error()}if("conv_param" in k){o=k.conv_param}else{o="rtb_conv_id"}if("conv_url" in k){l=k.conv_url}else{l=n+"/conversion"}if("track_url" in k){j=k.track_url}else{j=n+"/activity"}}var d=(function(j){var l=j.document;return function k(){var m=null;var n;return{getItem:function(o){var p=l.cookie.match(new RegExp("(?:^|; )"+o+"=([^;]*)"));return p?decodeURIComponent(p[1]):""},isSupported:function(){if(m!==null){return m}if(j.navigator&&j.navigator.cookieEnabled){m=true;return m}l.cookie="cookietest=1";var o=l.cookie.indexOf("cookietest=")!==-1;l.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";m=o;return m},removeItem:function(o){n=n||new Date(0).toUTCString();l.cookie=o+"=; path=/; expires="+n},setItem:function(r,s,o){s=decodeURIComponent(s+"");var p="";if(typeof o!=="undefined"){var q=new Date();q.setMilliseconds(q.getMilliseconds()+o);p="; expires="+q.toUTCString()}l.cookie=r+"="+s+"; path=/"+p}}}})(f);function a(j){var k={adk_rtb_conv_id:{expires:15552000000},"3rd_party_mark":{expires:604800000}};this.get=function(l){if(!(l in k)){return""}return j.getItem(l)};this.set=function(l,m){if(!(l in k)){return""}j.setItem(l,m,k[l].expires)}}function e(l,o){function n(){return Math.round(Math.random()*10000)}function m(t,p,s,u,r){var q={cid:p,step:r};if(u){q.value=u}q.rnd=n();return t+"?"+h.joinURIComponents(q,"&")}function k(r,q,p){return r+"?"+h.joinURIComponents({uid:q,url:p,rnd:n()},"&")}this.conversion=function(r){if(r===c){r={step:1}}var p=o.get("adk_rtb_conv_id");if(p===""){return}var q=m(l.getConversionUrl(),p,r.count,r.value,r.step);h.sendGetRequest(q)};this.collect=function(r){if(r===c||r.user_id===c){throw new Error("Illegal argument exception")}var q=f.location.href.split(/[?#]/)[0],p=k(l.getTrackingUrl(),r.user_id,q);h.sendGetRequest(p)};var j=h.getQueryParameterByName(l.getConversionParamName());if(j){o.set("adk_rtb_conv_id",j)}}function i(j){var o,q={},l="#",p={};function r(v,t,u){if(v.addEventListener){v.addEventListener(t,u,false)}else{if(v.attachEvent){v.attachEvent("on"+t,u)}}}function s(u){var v=u||f.event,w=(typeof v.data==="string")&&v.data.split(l);if(!(w instanceof Array)){return}var x=w.shift();if(!q.hasOwnProperty(x)){return}var t=q[x];delete q[x];t(w[0])}function k(){return"CB"+Math.round(Math.random()*99999)}function n(t){m("opted-out",function(u){p.optedOut=u;m("userid",function(v){p.userId=v;t()})})}function m(v,u){var t=k();if(u){q[t]=u}o.contentWindow.postMessage(t+"#"+v,"*")}this.ready=function(t){if(o.readyState==="complete"){n(t)}else{r(o,"load",function(){r(f,"message",s);n(t)})}return this};this.userId=function(){return p.userId};this.optedOut=function(){return p.optedOut};o=g.createElement("iframe");o.src=j.getStorageUrl();o.style.width="0px";o.id="adkrtbstorage";o.setAttribute("frameBorder","0");o.style.height="0px";g.body.appendChild(o)}(function(){if(f.ADKERNEL_RTB){return}var o=f.ADKERNEL_RTB_CONFIG||{};var j=new d();if(!j.isSupported()){return util.warn("Cookies are not enabled")}var k=new b(o),n=new a(j),l=new e(k,n),m=new i(k).ready(function(){var p=m.optedOut(),q=m.userId();if(p!=="1"){if(q){l.collect({user_id:q})}else{var r=n.get("3rd_party_mark");if(!r){n.set("3rd_party_mark",1);f.location.href=k.get3rdPartyGateUrl()+"?redir="+f.location.href}}}});f.ADKERNEL_RTB={notify:function(p){l.conversion(p)}}})()})(window,document);